\subsection{External interface requirements}
 
	\subsubsection{User Intefaces}
	\subsubsection{Software Interfaces}
	
\subsection{Functional Requirements}
\bigskip

\begin{enumerate} [label = G\arabic* - ]

\item \textbf{Allow users to signal traffic violations}
	\begin{itemize}
	\item (R1) SS user client must provide a registration interface.
	\item (R2) SS must assign a unique ID to each registered user.
	\item (R3) SS user client must provide a violation report function.
	\item (R4) SS should verify each report is sent from an existent ID.
	\end{itemize}
	\bigskip
	
\item \textbf{Allow users to include pictures in violation reports}
	\begin{itemize}
	\item (R5) Application must have permission and access to the device camera.
	\item (R6) Pictures should be taken through camera inside the application to ensure protection against manipulations.
	\end{itemize}
	\bigskip
	
\item \textbf{The system must be able to retrieve the geographical position of a violation and add it to the report}
	\begin{itemize}
	\item (R7) Application must have permission and ability to access to GPS service offered by the smartphone device.
	\end{itemize}
	\bigskip
	
\item \textbf{The system must recognise (from pictures) license plates}
	\begin{itemize}
	\item (R8) The system should implement an image recognition algorithm.
	\item (R9) The system should ask the user to manually insert the license plate number of the offender car pictured in the provided photo for data integrity purposes.
	\end{itemize}
	\bigskip

\item \textbf{The system must store user made reports}
	\begin{itemize}
	\item (R10) SS must have a consistent database.
	\item (R11) Every report received has to be saved in SS database.
	\item (R12) SS must ensure that data cannot be tampered with.
	\end{itemize}
	\bigskip
	
\item \textbf{Allow users and authorities to mine information collected by the application}
	\begin{itemize}
	\item (R13) SS should provide an authoriteies dedicated client.
	\item (R14) SS authority client should provide a registration function.
	\item (R15) SS should provide the APIs and the tools to allow mining information by 3rd party.
	\item (R16) SS should implement an automated tool for data analysis and display.
	\end{itemize}
	\bigskip
	\end{enumerate}
	
\begin{enumerate} [label = GA 1.\arabic* - ]

\item \textbf{The system must be able to cross the data collected with information about the accidents coming from the municipality} 
	\begin{itemize}
	\item (R17) The involved municipality should provide incidents data of his metropolitan area.
	\item (R18) Data access interfaces should be provided by municipality or defined by SS designers in collaboration with people from the municipality.
	\item (R19) The system should have already collected a suitable amount of data.
	\end{itemize}
	\bigskip
	
\item\textbf{The system must be able to suggest possible interventions to decrease the risk of violations in unsafe areas}
	\begin{itemize}
	\item (R16) SS should implement an automated tool for data analysis and display.
	\end{itemize}
	\bigskip
\end{enumerate}

\begin{enumerate} [label = GA 2.\arabic* - ]
	
\item \textbf{Allow the local police to retrieve data about violation to generate traffic tickets}
	\begin{itemize}
	\item (R20) SS should provide a dedicated client to police officers.
	\end{itemize}
	\bigskip
	
\item \textbf{The system must be able to ensure the veracity of the information sent by the users}
	\begin{itemize}
	\item (R2) SS must assign a unique ID to each registered user.
	\item (R3) SS should verify each report is sent from an existent ID.
	\item (R21) SS should include anti-flooding protection mechanism (e.g. timer for each ID).
	\item (R6) Pictures should be taken through camera inside the application to ensure protection against manipulations.
	\item (R22) Report forward to DB should exploit a secure and encrypted channel.
	\end{itemize}
	\bigskip

\item \textbf{The system must track whether the police has taken care of a certain violation}
	\begin{itemize}
	\item(R23) SS policeman client should offer a function to signal that a traffic ticket (related to a previous) has been generated.
	\item(R24) SS stores in its DB traffic ticket emission alongside the corresponding report.
	\end{itemize}
	\bigskip
	
\item \textbf{Traffic tickets must be issued to the person that owns the vehicle that committed the violation}
	\begin{itemize}
	\item(R25) The system must ensure that the traffic ticket emission signalling (policemen client) is available only for taken care reports.
	\item(R26) SS will ask the officer the license plate number and will accept to signal ticket emission only if the inserted number match the one contained in the report.
	\end{itemize}
	\bigskip
	
\item \textbf{The system must be able to build statistics from the information about issued tickets}
	\begin{itemize}
	\item(R16) SS should implement an automated tool for data analysis and display.
	\end{itemize}
	\bigskip
	
	\end{enumerate}

	\subsubsection{Scenarios}
	\begin{enumerate}
	\item \textbf{Bad Parking}: Bob is a commuter and every morning needs to reach the train station by car: the daily struggle to park his car in the surroundings is even worsened by parking violations. One morning, coming across another car occupying two parking slots, Bob decides to start contributing to SafeStreet service and its violation map: he downloads and installs SS app, accepts to grant Camera and GPS authorizations to it and fills a brief form for the registration. Once logged in, he uses the dedicated report feature. He takes a picture of the violation, inserts manually the license plate number and, after the application completes the verification of the inserted data, he sends the violation report, which also includes the GPS location and the current time.
 	\item \textbf{An anxious mother}: every day Laura lets his 12 years old son walk to school by himself. One day she hears about SS, a new app providing information about traffic violation in her city, and thinks that it can be useful to check if her son daily walking route is reasonably safe or not. Using SS violation map, which provides a street level highlight of violation distribution, she finds out that his son usually walks in potentially unsafe streets, with cars parked on sidewalks forcing pedestrians to walk in the middle of the street, and suggests him a new route based on the map provided by SS.
	\item \textbf{Smart Municipality}: Milan municipality is looking for a large data set regarding traffic monitoring for his metropolitan area. The administration aims to mine useful information from it in order to identify critical areas and plan interventions. They found out SS and its violation DB, so they subscribe to the service as a public institution filling a required form and gain access to the needed data. With high privilege data access granted to public authorities, SS provide them a suitable amount of data for the administration goal.
	\item \textbf{Traffic Monitoring Service}: Gotham City municipality has just introduced a new traffic plan in one of his main districts and wishes to track in an accurate way the evolution of traffic violations. SS should do the trick: Gotham municipality registers to SS service as public authority and now can have privileged access to the data collected by the application. However, Gotham City has no infrastructure dedicated to large data set mining. No worries: the impact of the new traffic plan can be evaluated exploiting built-in SS violation map and traffic tickets emission trends.
	\item \textbf{SafeStreet for Safer Cities}: the city of Monza provide a dedicated service offering data about incidents on its territory. SS has exploited its advanced features to cross its own information about traffic in Monza with the data provided, identifying possible unsafe areas and suggesting possible interventions. The administration of the city knows that managing the traffic plan of a vast city is complex and find that SS automated analysis could really lower effort and costs of the operations. Thus, the municipality decides to register to SS services and to exploit its traffic monitoring and intervention suggestion tool. 
	\item \textbf{Traffic Tickets}: NotSoSafe City is struggling trying to guarantee a decent level of violation control in his vast metropolitan area, considering his personnel available is limited. The municipality come to know that SS provide an efficient violation signalling service and a dedicated police officer client that even tracks ticket emissions. After registration as a public institution, the municipality issue to every policeman the installation of SS client on corporate (or personal) phone. Policemen can now take advantage of the real-time violation notification service of SS app for quick interventions if needed. Moreover, SS violation map offers the municipality a strong tool to simplify territory control: officer patrol activity can be directed to the most unsafe areas reported by the application.
	\item  \textbf{Policeman Intervention}: Anna is a police officer working for Rome municipality. The city administration has recently decide to exploit SS service in order to optimize traffic ticket emission. Anna is patrolling district one and suddenly receive a violation notification from SS client installed on her smartphone. The report is coming from a nearby street so Anna decide to take care of the report, marking that an officer has been dispatched  through the dedicated app function. Once on place, Anna verifies that the violation reported has truly occurred and issues a traffic ticket. She finally marks the report as” taken care” within SS app and gets back to her patrolling activity.
	\end{enumerate}
	
	
	\subsubsection{Use Case Description}
	\medskip
	
	\begin{enumerate}
	\item \textbf{User Registration}
		\begin{table}[]
		\begin{tabular}{|l|l|}
		\hline
		Actors            			&       	\\ \hline
		Goals             			&         	\\ \hline
		Entry Conditions  	&  		\\ \hline
		Event Flow        		&          \\ \hline
		Output Conditions &    		\\ \hline
		Exceptions        		&       	\\ \hline
	\end{tabular}
	\end{table}
	
	\item \textbf{Institution Registration}
		\begin{table}[]
		\begin{tabular}{|l|l|}
		\hline
		Actors            			&       	\\ \hline
		Goals             			&         	\\ \hline
		Entry Conditions  	&  		\\ \hline
		Event Flow        		&          \\ \hline
		Output Conditions &    		\\ \hline
		Exceptions        		&       	\\ \hline
	\end{tabular}
	\end{table}
	
	\item \textbf{Violation Signaling}
		\begin{table}[]
		\begin{tabular}{|l|l|}
		\hline
		Actors            			&       	\\ \hline
		Goals             			&         	\\ \hline
		Entry Conditions  	&  		\\ \hline
		Event Flow        		&          \\ \hline
		Output Conditions &    		\\ \hline
		Exceptions        		&       	\\ \hline
	\end{tabular}
	\end{table}
	
	\item \textbf{User Registration}
		\begin{table}[]
		\begin{tabular}{|l|l|}
		\hline
		Actors            			&       	\\ \hline
		Goals             			&         	\\ \hline
		Entry Conditions  	&  		\\ \hline
		Event Flow        		&          \\ \hline
		Output Conditions &    		\\ \hline
		Exceptions        		&       	\\ \hline
	\end{tabular}
	\end{table}
	
	\item \textbf{User Registration}
		\begin{table}[]
		\begin{tabular}{|l|l|}
		\hline
		Actors            			&       	\\ \hline
		Goals             			&         	\\ \hline
		Entry Conditions  	&  		\\ \hline
		Event Flow        		&          \\ \hline
		Output Conditions &    		\\ \hline
		Exceptions        		&       	\\ \hline
	\end{tabular}
	\end{table}
	
	\item \textbf{User Registration}
		\begin{table}[]
		\begin{tabular}{|l|l|}
		\hline
		Actors            			&       	\\ \hline
		Goals             			&         	\\ \hline
		Entry Conditions  	&  		\\ \hline
		Event Flow        		&          \\ \hline
		Output Conditions &    		\\ \hline
		Exceptions        		&       	\\ \hline
	\end{tabular}
	\end{table}
	
	\item \textbf{User Registration}
		\begin{table}[]
		\begin{tabular}{|l|l|}
		\hline
		Actors            			&       	\\ \hline
		Goals             			&         	\\ \hline
		Entry Conditions  	&  		\\ \hline
		Event Flow        		&          \\ \hline
		Output Conditions &    		\\ \hline
		Exceptions        		&       	\\ \hline
	\end{tabular}
	\end{table}
	
	\item \textbf{User Registration} 
		\begin{table}[]
		\begin{tabular}{|l|l|}
		\hline
		Actors            			&       	\\ \hline
		Goals             			&         	\\ \hline
		Entry Conditions  	&  		\\ \hline
		Event Flow        		&          \\ \hline
		Output Conditions &    		\\ \hline
		Exceptions        		&       	\\ \hline
	\end{tabular}
	\end{table}
	
	\item \textbf{User Registration}
		\begin{table}[]
		\begin{tabular}{|l|l|}
		\hline
		Actors            			&       	\\ \hline
		Goals             			&         	\\ \hline
		Entry Conditions  	&  		\\ \hline
		Event Flow        		&          \\ \hline
		Output Conditions &    		\\ \hline
		Exceptions        		&       	\\ \hline
	\end{tabular}
	\end{table}
	
	\item \textbf{User Registration}
		\begin{table}[]
		\begin{tabular}{|l|l|}
		\hline
		Actors            			&       	\\ \hline
		Goals             			&         	\\ \hline
		Entry Conditions  	&  		\\ \hline
		Event Flow        		&          \\ \hline
		Output Conditions &    		\\ \hline
		Exceptions        		&       	\\ \hline
	\end{tabular}
	\end{table}
	
	\end{enumerate}
	
	\subsubsection{Use Case Diagram}
	
	\subsubsection{Sequence Diagrams}
	
	\subsubsection{Mapping on Requirements}
	
\subsection{Performance Requirements}

	\subsubsection{Response time}
	
Server side SS is a data intensive application. Big volumes of data  will be written and read at the same time. Given the nature of the application itself, fast responses are essential in order to make the policemen do their job properly. On the data analytics side, instead, the responses can be slower.\\

\textbf{List of the response times:}
\begin{itemize}
\item report forwarded to application DB: 500 ms, medium priority
\item response to policeman query on DB: 500ms, medium priority
\item responses to policemen actions insertion in DB: 200 ms, high priority
\item responses to regular users queries on data: 500 ms, low priority
\item responses to municipal authorities data-mining actions: 1 min, low priority
\end{itemize}
\subsubsection{Workload management}
SS will need to be able to sustain a heavy workload of database transaction: there will be a lot of simultaneous read and write operations. The workload required will differ depending on the differnt types of users.
\begin{itemize}
	\item \textbf{Regular users:} the number of data streams will vary greatly depending on the number of users and the size of the city immplementing SS. As a safety measure, supposing to implement SS in a city roughly se same size as Milano, the number of expected data streams could exceed 100'000 daily, considering both reads and writes
	\item \textbf{Authorities: } given the relative small number of municipal and police employees, a good extimate in a city the size of Milano could be around 2000 data streams daily on average, insignificant when compared to the other users' streams  
\end{itemize}
In conclusion, it's evident that SS must be able to scale seamlessly and in an automated fashion, without human intervention


\subsection{Design Constraints}
	\subsubsection{Standard Compliance}
	The system to be delivered must comply with EU's GDPR (General Data Protection Regulation) and will follow any of its variations in the time to come
	\subsubsection{Hardware Limitations}
	SS will have really different hardware limitations client side and server side:
	\begin{itemize}
		\item \textbf{Client side} - the only limitation is a working smartphone 
		\item \textbf{Server side} - SS will need to save huge amounts of data, thus needing huge amounts of reliable storage
	\end{itemize}
	 
\subsection{Software System Attributes}
	\subsubsection{Reliability}
	Given the data-mining orientation of the application, a great number of data must be gathered in order to ensure that the statistic analysis on the afromentioned data is actually meaningful. Therefore, the system must be reliable in delivering un-compromised data to the database and reliably store them.\\
	It is also necessary for the system to accurately update dispatched officers and what reports have been taken care of, in order to avoid an erroneous usage of municipal police manpower and time, whose are usually pretty low to begin with.
	\subsubsection{Avaibility}
	Once again, in order to gather enough information to produce meaningful statistical analysis, the system must be able to gather as much data as possible. In order for this to happen the system must have a high availability, in the order of .9999
	\subsubsection{Security}
	Given that SS deals with a high volume of sensible data, such as pinpointing a user to a certain place at a certain time or having a list of various tickets emitted by the police, it is of the utmost importance for it to have a robust security apparatus. As a starter, all comunications between client and server must be encrypted (an asymmetric encryption mechanism with hash check should be enough); the same goes for the stored data. Other measures to be taken in order to avoid data leaks are the usual ones: don't use obvious names for tables and columns, filter all the user input, use adeguate csp to avoid code injections, use anti CSRF tokens and so on.\\
	Please note that a leak could have disastrous consequences both on reputation and economic level, therefore security's importance cannot be understated and has to be considered one of the top priorities. 
	\subsubsection{Mantainability}
	The greatest challenge in the maintanability field lays in the correct application of the "divide et impera" principle: if the application's modules have been defined and developed correctly then mantaining each module will be feasible with little cost in time and effort.
	\subsubsection{Portability}
	Portability is a relatively easy problem to solve. As a matter of fact, given that the users will access SS via a smartphone client, it will be enough to develop clients for Andorid and IOS and keep it updated to keep up with new os version releases. 
